{"version":3,"sources":["webpack:///webpack/bootstrap e2421e9e6d66990618f8","webpack:///./src/index.js","webpack:///./src/utils.js","webpack:///./src/image-editor.js","webpack:///./src/canvas-workspace.js","webpack:///./src/constants.js","webpack:///./src/crop-container.js"],"names":["window","imageEditor","imagePath","imageAltText","onWorkSpaceUpdated","document","querySelector","state","template","appContainer","width","height","imageEditorContainer","image","originalWidth","originalHeight","ratio","innerHTML","noop","throttle","createElement","getOffsetRelativeToParent","getCenterPositionRelativeToParent","getMousePosition","calculateAspectRatioFit","calculateOriginalDimensionsFromScaled","transformCSS","getRadianFromDegrees","getDegreesFromRadians","regExp","hasClass","removeClass","addClass","createTransformMatrix","getOriginalCoordinatesFromTransformedMatrix","setTimeout","Function","prototype","type","name","obj","running","func","requestAnimationFrame","throttledRequestAnimationFrame","dispatchEvent","CustomEvent","addEventListener","options","element","tagName","className","attributes","attr","setAttribute","text","appendChild","createTextNode","children","length","i","childrenLength","HTMLElement","childCssSelector","parentCssSelector","childElem","parentElem","Error","childRect","getBoundingClientRect","parentRect","top","right","bottom","left","childElement","parentElement","offsetWidth","offsetHeight","event","contextElement","offsetLeft","pageXOffset","offsetTop","pageYOffset","x","pageX","touches","y","pageY","srcWidth","srcHeight","maxWidth","maxHeight","rotated","gutter","aspectRatio","Math","min","floor","scaledWidth","scaledHeight","translateX","translateY","scale","radians","style","transform","degrees","PI","RegExp","Element","test","classList","contains","replace","remove","add","transformMatrix","inverseTransformMatrix","rotate","cos","sin","cross","xx","yy","ImageEditor","props","container","onImageLoaded","bind","updateWorkspace","onWindowResize","imageObj","Image","onload","onerror","canvasWorkspace","cropContainer","imageEditorWorkspace","getElement","fragment","createDocumentFragment","frameRateInterval","requestAnimationFrameId","lastTimestamp","src","naturalWidth","naturalHeight","performance","now","timestamp","elapsedTime","scaleRatio","update","drawImage","CanvasWorkspace","canvasWidth","canvasHeight","imageWidth","imageHeight","context","getContext","clearRect","save","restore","CSS_NAMESPACE","IMAGE_ALT_TEXT","ACTIVE_CLASS","EDITOR_GUTTER","DEBUG","CropContainer","maxDimensions","minDimensions","boundary","preventDefault","cropAreaContainer","target","stopImmediatePropagation","cropEvent","onStartCropResize","dragging","onCropResize","onStopCropResize","mousePos","origin","croppingArea","position","constrain","shiftKey","isNaN","cropActionTriggered","cropped","original","removeEventListener","zoomInImage"],"mappings":"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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e2421e9e6d66990618f8","import Editor from './image-editor';\n\nwindow.imageEditor = new Editor(\n    {\n        imagePath: 'http://localhost:8888/src/lamda-lamda-lamda.jpg',\n        imageAltText: 'A village after dark',\n        onWorkSpaceUpdated\n    },\n    document.querySelector( '.media-image-editor__canvas-container' )\n);\n\n\n// DEBUG\nfunction onWorkSpaceUpdated( state ) {\n    //const croppedImageObj = document.querySelector( '.media-image-editor_debug__preview-container img' );\n    //const croppedImageAtag = document.querySelector( '.media-image-editor_debug__preview-container a' );\n    //const previewImage = newImageEditorState.canvas.toDataURL('image/jpeg', 0.8 );\n    //croppedImageObj.src = previewImage;\n    //croppedImageObj.width = newImageEditorState.cropped.width;\n    //croppedImageObj.height = newImageEditorState.cropped.height;\n    //croppedImageAtag.href = previewImage;\n\n    const template = `\n        <li>\n            <var>App container dimensions</var>\n            <samp>\n                ${ state.appContainer.width } x ${ state.appContainer.height }\n            </samp>\n        </li>\n         <li>\n            <var>Image editor container dimensions</var>\n            <samp>\n                ${ state.imageEditorContainer.width } x ${ state.imageEditorContainer.height }\n            </samp>\n        </li>\n        <li>\n            <var>Original image dimensions</var>\n            <samp>\n                ${ state.image.originalWidth } x ${ state.image.originalHeight  }\n            </samp>\n        </li>\n\t\t<li>\n\t\t\t<var>Scaled image dimensions</var>\n\t\t\t<samp>\n\t\t\t\t${ state.image.width } x ${ state.image.height }\n\t\t\t</samp>\n\t\t</li>\n        <li>\n\t\t\t<var>Ratio to original image</var>\n\t\t\t<samp>${ state.image.ratio }</samp>\n        </li>\n    `;\n\n    document.querySelector( '.media-image-editor_debug-values ul' ).innerHTML = template;\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * Create a noop call\n * @returns {Function}\n */\nexport function noop() {\n    setTimeout( Function.prototype, 10000 );\n}\n\n/**\n * Throttle a func call every {threshhold}ms\n * https://developer.mozilla.org/en-US/docs/Web/Events/resize\n * Usage:\n    throttle(\"resize\", \"optimizedResize\");\n    // handle event\n    window.addEventListener(\"optimizedResize\", function() {\n        console.log(\"Resource conscious resize callback!\");\n    });\n */\nexport function throttle( type, name, obj = window ) {\n    let running = false;\n    const func = function() {\n        if (running) { return; }\n        running = true;\n        requestAnimationFrame(function throttledRequestAnimationFrame() {\n            obj.dispatchEvent( new CustomEvent( name ) );\n            running = false;\n        });\n    };\n    obj.addEventListener(type, func);\n}\n\n/**\n * Creates a simple DOM tree\n * @example\nconst htmlElementToAppend = createElement({\n  tagName: 'span',\n  className: 'new-class-name',\n  text: 'Spannend!',\n  attributes: {\n    'title': 'Geil!'\n  },\n  children: [{ \n      // recursive call to createElement()\n  }]\n})); // returns => <span class=\"new-class-name\" title=\"Geil!\">Spannend!</span>\n * @typedef {Object} OptionsObject\n * @property {String} tagName\n * @property {String} className\n * @property {String} text\n * @property {Object} attributes\n * @property {Array<options>} children\n * \n * @param {OptionsObject} options\n * @returns {HTMLElement}\n */\nexport function createElement( options ) {\n\n    const element = document.createElement( options.tagName );\n\n    if ( options.className ) {\n        element.className = options.className;\n    }\n\n    if ( options.attributes ) {\n        for ( let attr in options.attributes ) {\n            element.setAttribute( attr, options.attributes[attr] )\n        }\n    }\n\n    if ( options.text ) {\n        element.appendChild( document.createTextNode( options.text ) );\n    }\n\n    if ( options.children && options.children.length ) {\n        let i = 0;\n        let childrenLength = options.children.length;\n        for (; i < childrenLength; i++ ) {\n            element.appendChild( options.children[i] instanceof window.HTMLElement ? options.children[i] : createElement( options.children[i] ) );\n        }\n    }\n\n    return element;\n\n}\n\n/**\n * @example\n const offsetValues = getOffsetRelativeToParent(\n    '.child-selector',\n    '#parent-selector'\n ); // returns => { top: {n}, right: {n}, bottom: {n}, left: {n} }\n * @typedef {Object} OffsetObject\n * @property {Integer} top\n * @property {Integer} right\n * @property {Integer} bottom\n * @property {Integer} left\n *\n * @param {String} childCssSelector\n * @param {String} parentCssSelector\n * @returns {OffsetObject}\n */\nexport function getOffsetRelativeToParent( childCssSelector, parentCssSelector) {\n\n    // we have to query the DOM elements to get the latest position data\n    // in case there has been a CSS transform on the element(s)\n    const childElem = document.querySelector( childCssSelector );\n    const parentElem = document.querySelector( parentCssSelector );\n\n    if ( ! childElem || ! parentElem ) {\n        throw new Error( `One or more DOM elements can't be found with: ${childCssSelector} or ${parentCssSelector}` );\n    }\n\n    const childRect = childElem.getBoundingClientRect();\n    const parentRect = parentElem.getBoundingClientRect();\n\n    return {\n        top: childRect.top - parentRect.top,\n        right: childRect.right - parentRect.right,\n        bottom: childRect.bottom - parentRect.bottom,\n        left: childRect.left - parentRect.left\n    };\n\n}\n\n/**\n * @example\n const offsetValues = getCenterPositionRelativeToParent(\n    HTMLElement,\n    HTMLElement.parentNode\n ); // returns => { left: {n}, top: {n} }\n * @typedef {Object} CenterPosition\n * @property {Integer} top\n * @property {Integer} left\n *\n * @param {HTMLElement} childElement\n * @param {HTMLElement} parentElement\n * @returns {CenterPosition}\n */\nexport function getCenterPositionRelativeToParent( childElement, parentElement ) {\n    return {\n        left: ( parentElement.offsetWidth / 2 - childElement.offsetWidth / 2 ),\n        top: ( parentElement.offsetHeight / 2 - childElement.offsetHeight / 2 )\n    };\n}\n\n/**\n * @example\n const mousePos = getMousePosition(\n    DOMEventObject,\n    HTMLElement\n ); // returns => { x: {n}, y: {n} }\n * @typedef {Object} PositionObject\n * @property {Integer} x\n * @property {Integer} y\n *\n * @param {DOMEventObject} event\n * @param {HTMLElement} contextElement (optional if you need position relative to parent offset)\n * @returns {PositionObject}\n */\nexport function getMousePosition( event, contextElement = null ) {\n\n    const offsetLeft = contextElement ? contextElement.offsetLeft : window.pageXOffset;\n    const offsetTop = contextElement ? contextElement.offsetTop : window.pageYOffset;\n\n    const x = ( event.pageX || ( event.touches && event.touches[0].pageX ) ) - offsetLeft;\n    const y = ( event.pageY || ( event.touches && event.touches[0].pageY ) ) - offsetTop;\n\n    return {\n        x,\n        y\n    };\n}\n\n\n/**\n * Conserve aspect ratio of the orignal region. Useful when shrinking/enlarging\n * images to fit into a certain area.\n * At the moment we expect rotations of only 90 degrees.\n * This could be improved by always checking if the bounding box of a rotated rectangle fits within the scaled container\n *\n * @param {Number} srcWidth Source area width\n * @param {Number} srcHeight Source area height\n * @param {Number} maxWidth Fittable area maximum available width\n * @param {Number} maxHeight Fittable area maximum available height\n * @param {Boolean} rotated\n * @param {Number} gutter - Optional percentage to increase or decrease the new fit dimensions\n * @return {Object} { width, heigth }\n */\nexport function calculateAspectRatioFit( srcWidth, srcHeight, maxWidth, maxHeight, rotated = false, gutter = 1 ) {\n\n    const aspectRatio = rotated ? Math.min( maxHeight / srcWidth, maxWidth / srcHeight ) : Math.min( maxWidth / srcWidth, maxHeight / srcHeight );\n    // reduce ratio to gutter percentage amount\n    const ratio = aspectRatio * gutter;\n\n    // widths with ratio applied\n    const width = Math.floor( srcWidth * ratio ) ;\n    const height = Math.floor( srcHeight * ratio ) ;\n\n    return {\n        ratio,\n        width,\n        height\n    };\n}\n\nexport function calculateOriginalDimensionsFromScaled( scaledWidth, scaledHeight, ratio ) {\n\n    // widths with ratio applied\n    const width = Math.floor( scaledWidth / ratio ) ;\n    const height = Math.floor( scaledHeight / ratio ) ;\n\n    return {\n        width,\n        height\n    };\n}\n\nexport function transformCSS( element, translateX = 0, translateY = 0, scale = 0, radians = 0 ) {\n    element.style.transform = `translate( ${ translateX }px, ${ translateY }px ) scale( ${ scale } ) rotate( ${ radians }rad ) translateZ( 0px )`;\n    return element;\n}\n\n// Converts from degrees to radians.\nexport function getRadianFromDegrees( degrees ) {\n    return degrees * Math.PI / 180;\n}\n\n// Converts from radians to degrees.\nexport function getDegreesFromRadians( radians ) {\n    return radians * 180 / Math.PI;\n}\n\nexport function regExp( name ) {\n    return new RegExp( `(^| )${name}( |$)` );\n}\n\nexport function hasClass( element, className ) {\n    if ( ! ( 'classList' in Element.prototype )  ) {\n        return regExp( name ).test( this.element.className );\n    }\n    return element.classList.contains( className );\n}\n\nexport function removeClass( element, className ) {\n    if ( ! ( 'classList' in Element.prototype ) ) {\n        return element.className =  element.className.replace( regExp( name ), '' );\n    }\n    return element.classList.remove( className );\n}\n\nexport function addClass( element, className ) {\n    if ( ! ( 'classList' in Element.prototype ) ) {\n        return element.className += ' ' + className;\n    }\n    return element.classList.add( className );\n}\n\nexport function createTransformMatrix( transformMatrix, inverseTransformMatrix, x, y, scale, rotate ) {\n\n    // create the rotation and scale parts of the transformMatrix\n    transformMatrix[3] =   transformMatrix[0] = Math.cos(rotate) * scale;\n    transformMatrix[2] = -(transformMatrix[1] = Math.sin(rotate) * scale);\n\n    // add the translation\n    transformMatrix[4] = x;\n    transformMatrix[5] = y;\n\n    // calculate the inverse transformation\n\n    // first get the cross product of x axis and y axis\n    var cross = transformMatrix[0] * transformMatrix[3] - transformMatrix[1] * transformMatrix[2];\n\n    // now get the inverted axis\n    inverseTransformMatrix[0] =  transformMatrix[3] / cross;\n    inverseTransformMatrix[1] = -transformMatrix[1] / cross;\n    inverseTransformMatrix[2] = -transformMatrix[2] / cross;\n    inverseTransformMatrix[3] =  transformMatrix[0] / cross;\n    \n\n    return {\n        transformMatrix,\n        inverseTransformMatrix\n    };\n};\n\n// params: x, y coords in current, transformed matrix\n// returns x,y coords from original, untransformed matrix\nexport function getOriginalCoordinatesFromTransformedMatrix( transformMatrix, inverseTransformMatrix, x, y ) {\n    var xx, yy;\n    xx = x - transformMatrix[4];     // remove the translation\n    yy = y - transformMatrix[5];     // by subtracting the origin\n    // return the point {x:?,y:?} by multiplying xx,yy by the inverse matrix\n    return {\n        x:   xx * inverseTransformMatrix[0] + yy * inverseTransformMatrix[2],\n        y:   xx * inverseTransformMatrix[1] + yy * inverseTransformMatrix[3]\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","import {\n    noop,\n    createElement,\n    calculateAspectRatioFit,\n    getRadianFromDegrees,\n    addClass,\n    hasClass,\n    removeClass,\n    getMousePosition ,\ngetOffsetRelativeToParent,\ncreateTransformMatrix,\ngetOriginalCoordinatesFromTransformedMatrix } from './utils';\nimport CanvasWorkspace from './canvas-workspace';\nimport CropContainer from './crop-container';\nimport {\n\tCSS_NAMESPACE,\n\tIMAGE_ALT_TEXT,\n\tACTIVE_CLASS,\n\tEDITOR_GUTTER,\n\tDEBUG,\n} from './constants';\n\n\n// https://codepen.io/anon/pen/YQJmMr\n//https://stackoverflow.com/questions/34597160/html-canvas-mouse-position-after-scale-and-translate\n\n\n\n// animationframe\n// drawImage while resizing crop area\n// https://stackoverflow.com/questions/6198771/drawing-image-in-canvas-at-an-angle-without-rotating-the-canvas\n// https://stackoverflow.com/questions/41847928/scaling-the-image-and-fitting-in-the-canvas-after-rotation\n\n// when crop tool hits boundary and there's image overflow, zoom/scale image down\n// when cropping down, cropped area zooms out to max width and height according to aspect ratio of container\n/*\n * Cropping area\n * on page load dimensions of the cropping area = the scaled dims of the image\n *\n * 1.    the min dimensions of the cropping area:\n *\n *       a) when the scaled image dims are >= than the cropped area ? 50px square (or according to the aspect ratio)\n *       b) when the scaled image dims === cropped area ? image dims\n *\n * 2.    the max dimensions of the cropping area:\n *       a) when the image dims are > than the cropped area ? = the container bounds - gutter\n *\n *       b) when a crop handler reaches its max bound in any corner\n *       i) if scaled image dim are greater than the cropped area ? make transform-origin the dragged corner of the cropped Area and scale the image\n *      while the mouse is down according to mouse position * sensitivity (the more image overflow there is the faster the growth) until the\n *      cropped area dims reach the scaled height or width of the image\n *\n *      c) when scaled image dims === cropping area dims ?\n *\n * */\n\n\n\n\nexport default class ImageEditor {\n\n    constructor( props, container ) {\n\n        // cache of computed image properties\n        this.state = {\n\t\t\timage: {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t\toriginalWidth: 0,\n\t\t\t\toriginalHeight: 0,\n\t\t\t\trotated: false,\n\t\t\t\tratio: 1,\n\t\t\t},\n\t\t\t// The image container\n\t\t\timageEditorContainer: {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t},\n\n\t\t\t// The app container\n\t\t\tappContainer: {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0,\n\t\t\t}\n        };\n\n\n        // this will be an ajax call\n        this.imagePath = props.imagePath;\n\n        // append elements\n        this.appContainer = container;\n\n        // bind class methods to this\n        this.onImageLoaded = this.onImageLoaded.bind( this );\n        this.updateWorkspace = this.updateWorkspace.bind( this );\n        this.onWindowResize = this.onWindowResize.bind( this );\n\n        // the image to manipulate\n        this.imageObj = new Image();\n        this.imageObj.setAttribute('crossOrigin', 'anonymous');\n        this.imageObj.className = `${CSS_NAMESPACE}__image-layer`;\n        this.imageObj.setAttribute( 'alt', this.imageAltText || IMAGE_ALT_TEXT );\n        this.imageObj.onload = this.onImageLoaded;\n        this.imageObj.onerror = noop;\n\n\n\t\t// create elements\n        // this is the offPage workspace\n        // it takes the transformed image, and calculates the positions and ratios required to create output image\n        // https://www.html5rocks.com/en/tutorials/canvas/performance/#toc-pre-render\n        // https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas\n        this.canvasWorkspace = createElement( {\n            tagName: 'canvas',\n            className: `${CSS_NAMESPACE}__canvas-workspace`\n        } );\n\n        this.canvasWorkspace = new CanvasWorkspace();\n        this.cropContainer = new CropContainer();\n\n        // this is the workspace wrapper\n        this.imageEditorWorkspace = createElement( {\n            tagName: 'div',\n            className: `${CSS_NAMESPACE}__workspace`,\n            children : [ this.imageObj, this.canvasWorkspace.getElement(), this.cropContainer.getElement() ]\n        } );\n\n        // this is the main container\n        this.imageEditorContainer = createElement( {\n            tagName: 'div',\n            className: `${CSS_NAMESPACE}__container ${CSS_NAMESPACE}__container-loading`,\n            children : [ this.imageEditorWorkspace ]\n        } );\n\n        // append elements\n\t\tconst fragment = document.createDocumentFragment();\n        fragment.appendChild( this.imageEditorContainer );\n        this.appContainer.appendChild( fragment );\n\n        this.frameRateInterval = 1000 / 30;\n        this.requestAnimationFrameId = null;\n        this.lastTimestamp = null;\n\n        // callbacks\n        this.onWorkSpaceUpdated = props.onWorkSpaceUpdated;\n\n        // load image and prepare workspace\n        this.imageObj.src = this.imagePath;\n\n        return this;\n\n    }\n\n    onImageLoaded() {\n\t\tthis.state.image.originalWidth = this.imageObj.naturalWidth;\n\t\tthis.state.image.originalHeight = this.imageObj.naturalHeight;\n\n        // initial update of coordinates\n        this.updateWorkspace();\n\n        if ( typeof window !== 'undefined' ) {\n              this.lastTimestamp = window.performance.now();\n              window.addEventListener( 'resize', this.onWindowResize );\n        }\n\n        // finally, we show the workspace\n        // place it on the end of the stack to ensure the update takes place first\n        setTimeout( () => {\n            removeClass( this.imageEditorContainer, `${CSS_NAMESPACE}__container-loading` );\n        } );\n    }\n\n    onWindowResize() {\n        this.requestAnimationFrameId = window.requestAnimationFrame( this.updateWorkspace );\n    }\n\n    // update the positions and dimensions\n    // when the workspace changes\n    updateWorkspace( timestamp ) {\n      const now = timestamp,\n          elapsedTime = now - this.lastTimestamp;\n\n        if ( elapsedTime < this.frameRateInterval ) {\n          return;\n        }\n\n        // if enough time has passed to call the next frame\n        // reset lastTimeStamp minus 1 frame in ms ( to adjust for frame rates other than 60fps )\n        this.lastTimestamp = now - ( elapsedTime % this.frameRateInterval );\n\n        // cache the container offset width\n        this.state.appContainer.width = this.appContainer.offsetWidth;\n        this.state.appContainer.height = this.appContainer.offsetHeight;\n\n\n        let scaleRatio; // for the image\n\n\t\t// get aspect ratio for the original image based on container size\n\t\tscaleRatio = calculateAspectRatioFit(\n\t\t\t\tthis.imageObj.naturalWidth,\n\t\t\t\tthis.imageObj.naturalHeight,\n\t\t\t\tthis.state.appContainer.width,\n\t\t\t\tthis.state.appContainer.height,\n\t\t\t\tthis.state.image.rotated,\n\t\t\t1 );\n\n\t\t// apply the initial dimensions to the image\n\t\tthis.state.image.width = scaleRatio.width;\n\t\tthis.state.image.height = scaleRatio.height;\n\t\tthis.state.image.ratio = scaleRatio.ratio;\n\n\n\t\tthis.imageObj.width = this.state.image.width;\n\t\tthis.imageObj.height = this.state.image.height;\n\n\n\t\tthis.cropContainer.update( {\n\t\t\ttop: 0,\n\t\t\tleft: 0,\n\t\t\twidth: this.state.image.width,\n\t\t\theight: this.state.image.height,\n\t\t} );\n\n\n        // draw to canvas\n        // TODO: we don't actually have to do this at all until the final save\n        this.canvasWorkspace.drawImage(\n        \tthis.imageObj,\n\t\t\tthis.state.appContainer.width,\n\t\t\tthis.state.appContainer.height,\n\t\t\tthis.state.image.width,\n\t\t\tthis.state.image.height\n\t\t);\n\n\t\tif ( DEBUG ) {\n\t\t\tthis.onWorkSpaceUpdated( this.state );\n\t\t}\n\n    }\n\n\n    // ==== editing API\n    // rotate( callback ) // returns new coords\n    // reflect( callback ) // returns new coords\n    // changeAspectRatio( callback ) // returns new coords\n    // save() // returns blob\n    // preview() // returns image/png for optional preview before save\n    // reset( callback )\n    // onImageLoaded( callback ) // allows consumers to do something after bootstrap\n    // destroy () clear container and remove all event listeners\n    // getOriginalImage() // returns original image\n    // getWorkingImage() // returns image at current crop state\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/image-editor.js","import {CSS_NAMESPACE} from \"./constants\";\nimport {createElement} from \"./utils\";\n\nexport default class CanvasWorkspace {\n\tconstructor() {\n\t\tthis.element = createElement( {\n\t\t\ttagName: 'canvas',\n\t\t\tclassName: `${CSS_NAMESPACE}__canvas-workspace`\n\t\t} );\n\t}\n\n\tgetElement() {\n\t\treturn this.element;\n\t}\n\n\t// TODO: at the moment we're calling this after every image transformation\n\t// in fact, because we're keeping track of the transforms, we don't need to call it at all until the end\n\t// it's just for the preview\n\tdrawImage( imageObj, canvasWidth, canvasHeight, imageWidth, imageHeight ) {\n\n\t\tthis.element.width = canvasWidth;\n\t\tthis.element.height = canvasHeight;\n\n\n\t\tconst context = this.element.getContext( '2d' );\n\t\tcontext.clearRect( 0, 0, this.element.width, this.element.height );\n\t\tcontext.save();\n\n\n\n\n\t\t// now draw!\n\t\tcontext.drawImage(\n\t\t\timageObj,\n\t\t\t// x, y coordinate of the top left corner of the sub-rectangle of the source image to draw into the destination context.\n\t\t\t0, 0,\n\t\t\t// w and h of the sub-rectangle of the source image to draw into the destination context.\n\t\t\timageWidth, imageHeight,\n\t\t\t/*            // x, y coordinates in the destination canvas at which to place the top-left corner of the source image.\n\t\t\t\t\t\t0, 0,\n\t\t\t\t\t\t// w and h of the image in the destination canvas. Changing these values scales the sub-rectangle in the destination context.\n\t\t\t\t\t\tthis.state.image.width, this.state.image.height,*/\n\t\t);\n\n\t\tcontext.restore();\n\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/canvas-workspace.js","export const CSS_NAMESPACE = 'image-editor';\nexport const IMAGE_ALT_TEXT = 'Image being edited';\nexport const ACTIVE_CLASS = 'image-editor__active';\nexport const EDITOR_GUTTER = .7;\nexport const DEBUG = true;\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","import {\n\tnoop,\n\tcreateElement,\n\tcalculateAspectRatioFit,\n\tgetRadianFromDegrees,\n\taddClass,\n\thasClass,\n\tremoveClass,\n\tgetMousePosition ,\n\tgetOffsetRelativeToParent,\n\tcreateTransformMatrix,\n\tgetOriginalCoordinatesFromTransformedMatrix } from './utils';\nimport {\n\tCSS_NAMESPACE,\n\tIMAGE_ALT_TEXT,\n\tACTIVE_CLASS,\n\tEDITOR_GUTTER,\n\tDEBUG,\n} from './constants';\n\nexport default class CropContainer {\n\n\tconstructor(  ) {\n\t\tthis.state = {\n\t\t\t// maximum dimensions of the crop tool\n\t\t\t// crop rectangle cannot be bigger than these values\n\t\t\t// update with viewport size * aspect ratio\n\t\t\tmaxDimensions: {\n\t\t\t\twidth: 0,\n\t\t\t\theight: 0\n\t\t\t},\n\t\t\t// minimum dimensions of the crop tool\n\t\t\t// crop rectangle cannot be smaller than these values\n\t\t\t// update with aspect ratio\n\t\t\tminDimensions: {\n\t\t\t\twidth: 50,\n\t\t\t\theight: 50\n\t\t\t},\n\t\t\tboundary: {\n\t\t\t\ttop: 0,\n\t\t\t\tright: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tleft: 0\n\t\t\t},\n\t\t\t// current position of the crop rectangle\n\t\t\ttop: 0,\n\t\t\tright: 0,\n\t\t\tbottom: 0,\n\t\t\tleft: 0,\n\t\t\t// current dimensions\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t};\n\t\tthis.element = createElement( {\n\t\t\ttagName: 'div',\n\t\t\tclassName: `${CSS_NAMESPACE}__crop-container`,\n\t\t\t'aria-label': 'Cropping area',\n\t\t\tchildren : [\n\t\t\t\t{\n\t\t\t\t\ttagName: 'div',\n\t\t\t\t\tclassName: `image-editor__draggable-corner ${CSS_NAMESPACE}__draggable-corner-nw`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttagName: 'div',\n\t\t\t\t\tclassName: `image-editor__draggable-corner ${CSS_NAMESPACE}__draggable-corner-ne`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttagName: 'div',\n\t\t\t\t\tclassName: `image-editor__draggable-corner ${CSS_NAMESPACE}__draggable-corner-sw`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttagName: 'div',\n\t\t\t\t\tclassName: `image-editor__draggable-corner ${CSS_NAMESPACE}__draggable-corner-se`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttagName: 'span',\n\t\t\t\t\tclassName: `image-editor__guide ${CSS_NAMESPACE}__guide-horiz-top`\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttagName: 'span',\n\t\t\t\t\tclassName: `image-editor__guide ${CSS_NAMESPACE}__guide-horiz-bottom`\n\t\t\t\t} ],\n\t\t} );\n\t}\n\n\tgetElement() {\n\t\treturn this.element;\n\t}\n\n\tgetState() {\n\t\treturn this.state;\n\t}\n\n\tupdate( { top, left, width, height } ) {\n/*\t\tthis.element.width = anotherScaleRatio.width > this.image.width ? this.image.width : anotherScaleRatio.width;\n\t\tthis.element.height = anotherScaleRatio.height > this.image.height ? this.image.height : anotherScaleRatio.height;\t*/\n\n\t\tthis.element.width = width;\n\t\tthis.element.height = height;\n\n\t\tthis.element.style.left = `${ left }px`;\n\t\tthis.element.style.top = `${ top  }px`;\n\t\tthis.element.style.width =  `${ width  }px`;\n\t\tthis.element.style.height =  `${ height  }px`;\n\n\t\tthis.state = {\n\t\t\t...this.state,\n\t\t\twidth,\n\t\t\theight,\n\t\t\ttop,\n\t\t\tleft,\n\t\t}\n\t}\n\n\t/*\n\n\t onStartDragCropArea - main event delegator\n\t Since all the interaction takes place on the cropArea,\n\t we don't need to assign multiple events to each drag handle and so on\n\n\t */\n\tonStartDragCropArea( event ) {\n\n\t\tevent.preventDefault();\n\t\taddClass( this.cropAreaContainer, ACTIVE_CLASS );\n\t\t// if we've hit a drag handle, stop propagation\n\t\t// and throw the event to the crop resize setup method\n\t\tif  ( hasClass( event.target, `${CSS_NAMESPACE}__draggable-corner` ) ) {\n\t\t\tevent.stopImmediatePropagation();\n\t\t\t// remove css transitions to avoid mouse delay\n\t\t\t// this.cropAreaContainer.style.transition = 'unset';\n\t\t\t// this.imageObj.style.transition = 'unset';\n\t\t\t// cache the event\n\t\t\tthis.cropEvent = event;\n\t\t\tthis.onStartCropResize( event );\n\t\t\treturn false;\n\t\t}\n\t\t// otherwise we're free to drag the image\n\t}\n\n\tonStartCropResize ( event ) {\n\n\t\tthis.dragging = true;\n\n\t\tevent.preventDefault();\n\n\t\tdocument.addEventListener( 'touchmove', this.onCropResize );\n\t\tdocument.addEventListener( 'touchend', this.onStopCropResize );\n\t\tdocument.addEventListener( 'mousemove', this.onCropResize );\n\t\tdocument.addEventListener( 'mouseup', this.onStopCropResize );\n\n\t\tthis.mousePos = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t}\n\n\n\tonCropResize ( event ) {\n\t\tevent.preventDefault();\n\t\tthis.mousePos = getMousePosition( event, this.imageEditorContainer );\n\t\t// first check the mouse boundaries\n\t\t// now calculate the new dimensions of the crop area\n\t\tlet width, height, left, top, right, bottom;\n\n\t\tif ( this.cropEvent.target.classList.contains( `${CSS_NAMESPACE}__draggable-corner-se` ) ) {\n\n\t\t\t// origin of image scale should be set to the opposite corner of this handle\n\t\t\tthis.image.transform.origin = [ 'left', 'top' ];\n\n\t\t\twidth  = this.mousePos.x - this.croppingArea.position.left;\n\t\t\theight = this.mousePos.y - this.croppingArea.position.top;\n\t\t\tleft = this.croppingArea.position.left;\n\t\t\ttop = this.croppingArea.position.top;\n\t\t}\n\n\t\tif ( this.cropEvent.target.classList.contains( `${CSS_NAMESPACE}__draggable-corner-sw` ) ) {\n\n\t\t\t// origin of image scale should be set to the opposite corner of this handle\n\t\t\tthis.image.transform.origin = [ 'right', 'top' ];\n\n\t\t\twidth  = this.croppingArea.width - ( this.mousePos.x - this.croppingArea.position.left );\n\t\t\tleft = this.mousePos.x;\n\t\t\theight = this.mousePos.y - this.croppingArea.position.top;\n\t\t\ttop = this.croppingArea.position.top;\n\n\t\t}\n\n\t\tif ( this.cropEvent.target.classList.contains( `${CSS_NAMESPACE}__draggable-corner-nw` ) ) {\n\n\t\t\t// origin of image scale should be set to the opposite corner of this handle\n\t\t\tthis.image.transform.origin = [ 'right', 'bottom' ];\n\n\t\t\twidth = this.croppingArea.width - ( this.mousePos.x - this.croppingArea.position.left );\n\t\t\theight = this.croppingArea.height - ( this.mousePos.y - this.croppingArea.position.top );\n\t\t\tleft = this.mousePos.x;\n\t\t\ttop = this.mousePos.y ;\n\t\t\tif ( this.constrain || event.shiftKey ) {\n\t\t\t\ttop = this.mousePos.y - ( ( width / this.image.width * this.image.height ) - height );\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.cropEvent.target.classList.contains( `${CSS_NAMESPACE}__draggable-corner-ne` ) ) {\n\n\t\t\t// origin of image scale should be set to the opposite corner of this handle\n\t\t\tthis.image.transform.origin = [ 'left', 'bottom' ];\n\n\t\t\twidth = ( this.mousePos.x - this.croppingArea.position.left );\n\t\t\theight = this.croppingArea.height - ( this.mousePos.y - this.croppingArea.position.top );\n\t\t\tleft = this.croppingArea.position.left;\n\t\t\ttop = this.mousePos.y ;\n\t\t\tif ( this.constrain || event.shiftKey ) {\n\t\t\t\ttop = this.mousePos.y - ( (width / this.image.width * this.image.height ) - height );\n\t\t\t}\n\n\t\t}\n\n\t\t// all this is about ensuring there is no 'sticking' at the extremes\n\t\theight = isNaN(height) ? this.croppingArea.height : height;\n\t\theight = height >= this.croppingArea.maxDimensions.height ? this.croppingArea.maxDimensions.height : height;\n\t\theight = height <= this.croppingArea.minDimensions.height ? this.croppingArea.minDimensions.height : height;\n\t\twidth = width >= this.croppingArea.maxDimensions.width ? this.croppingArea.maxDimensions.width : width;\n\t\twidth = width <= this.croppingArea.minDimensions.width ? this.croppingArea.minDimensions.width : width;\n\t\tleft = left >= this.croppingArea.boundary.right - this.croppingArea.minDimensions.width\n\t\t\t? this.croppingArea.boundary.right - this.croppingArea.minDimensions.width : left;\n\t\tleft = left <= this.croppingArea.boundary.left ? this.croppingArea.boundary.left : left;\n\t\ttop = top >= this.croppingArea.boundary.bottom - this.croppingArea.minDimensions.height\n\t\t\t? this.croppingArea.boundary.bottom - this.croppingArea.minDimensions.height : top;\n\t\ttop = (top <= this.croppingArea.boundary.top || isNaN(top)) ? this.croppingArea.boundary.top : top;\n\n\t\tif ( this.constrain || event.shiftKey ) {\n\t\t\theight = width / this.image.width * this.image.height;\n\t\t}\n\n\n\n\n\n\n\t\tthis.croppingArea.position.left = left;\n\t\tthis.cropAreaContainer.style.left = `${ this.croppingArea.position.left  }px`;\n\n\t\tthis.croppingArea.width = width;\n\t\tthis.cropAreaContainer.style.width = `${ this.croppingArea.width }px`;\n\n\t\tthis.croppingArea.height = height;\n\t\tthis.cropAreaContainer.style.height = `${ this.croppingArea.height }px`;\n\n\t\tthis.croppingArea.position.top = top;\n\t\tthis.cropAreaContainer.style.top = `${ this.croppingArea.position.top }px`;\n\n\t\tthis.croppingArea.position.bottom = this.croppingArea.position.top + height;\n\t\tthis.croppingArea.position.right = this.croppingArea.position.left + width;\n\t\tthis.cropActionTriggered = true;\n\n\n\t\tthis.onWorkSpaceUpdated( {\n\t\t\timage: {\n\t\t\t\t...this.image\n\t\t\t},\n\t\t\tcropped: {\n\t\t\t\t...this.croppingArea,\n\t\t\t},\n\t\t\toriginal: {\n\t\t\t\twidth: this.imageObj.naturalWidth,\n\t\t\t\theight: this.imageObj.naturalHeight,\n\t\t\t}\n\t\t} );\n\n\t\treturn false;\n\n\t}\n\n\tonStopCropResize () {\n\n\t\tthis.dragging = false;\n\t\tthis.mousePos = null;\n\t\tthis.cropEvent = null;\n\t\tremoveClass( this.cropAreaContainer, ACTIVE_CLASS );\n\t\tdocument.removeEventListener( 'mousemove', this.onCropResize );\n\t\tdocument.removeEventListener( 'mouseup', this.onStopCropResize );\n\t\tdocument.removeEventListener( 'touchmove', this.onCropResize );\n\t\tdocument.removeEventListener( 'touchend', this.onStopCropResize );\n\n\t\t// this.cropAreaContainer.style.transition = 'all 0.09s linear';\n\t\t// this.imageObj.style.transition = 'transform 0.1s linear';\n\n\t\tif (!this.cropActionTriggered) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.cropActionTriggered = false;\n\t\tthis.croppingArea.scale = {\n\t\t\twidth: this.croppingArea.width / this.image.width,\n\t\t\theight: this.croppingArea.height / this.image.height,\n\t\t\ttop: this.croppingArea.position.top / this.image.height,\n\t\t\tleft: this.croppingArea.position.left / this.image.width\n\t\t};\n\n\n\n\t\tthis.zoomInImage();\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/crop-container.js"],"sourceRoot":""}